# commit related
alias ga="git number add"
alias gaa="git add --all"
alias gcm="git commit -m"
alias gp="git push"
alias gco="git number checkout"

# commit based on folder name
# - assumes that the first folder name is the commit header
# - assumes that all staged files have the same first folder
function gcf() {
    local level=1

    local gitRoot=$(git rev-parse --show-toplevel)
    if [ $gitRoot = /Users/weiseng/repos/uni ]
    then
        level=2
    fi

    # 1. gives absolute path (from root dir of git repo)
    # 2. of the first file
    # 3. extract first dir
    local header=$(git diff --name-only --staged | head --lines 1 | cut -f$level -d / )

    git commit -m "$header: $1"
}

# remote
alias grb="git branch -r --merged dev"
alias grd="git push origin --delete"

# diff/status
alias gdi="git number diff"
alias gds="git number diff --staged"
alias gst="git number"

function gl() {
    if [ "$1" != "" ]
    then
        git log --oneline -$1
    else
        git log --oneline -10
    fi
}
